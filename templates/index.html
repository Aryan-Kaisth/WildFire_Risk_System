<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wildfire Risk System</title>
    <link rel="stylesheet" href="/static/styles.css">
</head>
<body>
    <div class="container">
        <h1>ðŸ”¥ Wildfire Risk System</h1>
        <form id="predictionForm">
            <div class="form-grid">
                <input type="number" step="any" name="latitude" placeholder="Latitude" required>
                <input type="number" step="any" name="longitude" placeholder="Longitude" required>
                <input type="date" name="datetime" required>
                <input type="number" step="any" name="pr" placeholder="pr" required>
                <input type="number" step="any" name="rmax" placeholder="rmax" required>
                <input type="number" step="any" name="rmin" placeholder="rmin" required>
                <input type="number" step="any" name="sph" placeholder="sph" required>
                <input type="number" step="any" name="srad" placeholder="srad" required>
                <input type="number" step="any" name="tmmn" placeholder="tmmn" required>
                <input type="number" step="any" name="tmmx" placeholder="tmmx" required>
                <input type="number" step="any" name="vs" placeholder="vs" required>
                <input type="number" step="any" name="bi" placeholder="bi" required>
                <input type="number" step="any" name="fm100" placeholder="fm100" required>
                <input type="number" step="any" name="fm1000" placeholder="fm1000" required>
                <input type="number" step="any" name="erc" placeholder="erc" required>
                <input type="number" step="any" name="etr" placeholder="etr" required>
                <input type="number" step="any" name="pet" placeholder="pet" required>
                <input type="number" step="any" name="vpd" placeholder="vpd" required>
            </div>
            <button type="submit">Predict</button>
        </form>

        <div id="result" class="result"></div>
    </div>

    <script>
        const form = document.getElementById("predictionForm");
        form.addEventListener("submit", async (e) => {
            e.preventDefault();
            const data = Object.fromEntries(new FormData(form).entries());
            for (const key in data) {
                if (key !== "datetime") data[key] = parseFloat(data[key]);
            }
            const response = await fetch("/predict", {
                method: "POST",
                headers: {"Content-Type": "application/json"},
                body: JSON.stringify(data)
            });
            const result = await response.json();
            document.getElementById("result").innerText = result.prediction || "Prediction error!";
        });
    </script>
</body>
</html>
